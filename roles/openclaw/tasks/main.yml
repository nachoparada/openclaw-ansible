---
- name: Include user creation tasks
  ansible.builtin.include_tasks: user.yml

- name: Include system tools installation tasks
  ansible.builtin.include_tasks: system-tools.yml

- name: Include Tailscale installation tasks
  ansible.builtin.include_tasks: tailscale.yml

- name: Include Docker installation tasks
  ansible.builtin.include_tasks: docker.yml

- name: Include firewall configuration tasks
  ansible.builtin.include_tasks: firewall.yml

- name: Include Node.js installation tasks
  ansible.builtin.include_tasks: nodejs.yml

- name: Include OpenClaw setup tasks
  ansible.builtin.include_tasks: openclaw.yml

- name: Include SSH hardening tasks (Linux only)
  ansible.builtin.include_tasks: ssh-hardening.yml
  when:
    - ansible_os_family == 'Debian'
    - openclaw_ssh_hardening_enabled | bool

- name: Build OpenClaw sandbox Docker images
  ansible.builtin.include_tasks: docker-sandbox-images.yml

- name: Include model auth setup tasks
  ansible.builtin.include_tasks: model-auth-setup.yml

- name: Include workspace setup tasks
  ansible.builtin.include_tasks: workspace_setup.yml
